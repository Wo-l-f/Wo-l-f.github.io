 <!DOCTYPE html>

<head>
</head>

<body>
    <p id="counter">x</p>

    <button onclick="buysmth('Cat')">buy cat 5$</button>

    <button onclick="buysmth('Chest')">buy chest 50$</button>

    <br>
    <br>

    <button onclick="chancevalue(1, 'money')">Click Me</button>

    <script>
        var money = 0;
        var maxmoney = 10;
        var hapiness = 0;

        function buysmth(item) {
            if(item == "Cat") {

                if(chancevalue(-5, 'money') == true){
                    chancevalue(1, 'hapiness')
                }
            }

            if(item == "Chest") {

                if(chancevalue(-50, 'money') == true){
                    chancevalue(15, 'maxmoney')
                }
            }
        }

        function chancevalue(numb, stat) {
            let succes = true;

            if(window[stat] + numb < 0){

                succes = false;
            }else{

                window[stat] += numb;
                updateCounter();
            }

            return succes;
        }

        function gameCheck() {
            if(money > maxmoney){
                money = maxmoney;
            }

            updateCounter();
        }

        function updateCounter() {
            document.getElementById("counter").textContent = 'money: ' + money + '/' + maxmoney + ', happiness: ' + hapiness;   
        }

        setInterval(function() {
            money++;
            updateCounter();
        }, 1000);
    </script>
</body>